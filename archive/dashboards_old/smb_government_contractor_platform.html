<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KBI Labs - SMB Government Contractor Platform</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="api-service.js"></script>
    <script src="realtime-updater.js"></script>
    <script src="data-orchestrator.js"></script>
    <script src="data-visualizer.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-blue: #2563eb;
            --success-green: #10b981;
            --warning-orange: #f59e0b;
            --danger-red: #ef4444;
            --purple-accent: #8b5cf6;
            --gray-50: #f8fafc;
            --gray-100: #f1f5f9;
            --gray-200: #e2e8f0;
            --gray-300: #cbd5e1;
            --gray-400: #94a3b8;
            --gray-500: #64748b;
            --gray-600: #475569;
            --gray-700: #334155;
            --gray-800: #1e293b;
            --gray-900: #0f172a;
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Inter', sans-serif;
            background: var(--gray-50);
            color: var(--gray-800);
            line-height: 1.6;
            font-size: 14px;
        }
        
        .platform-container {
            display: flex;
            min-height: 100vh;
        }
        
        /* SIDEBAR STYLES */
        .sidebar {
            width: 280px;
            background: white;
            border-right: 1px solid var(--gray-200);
            display: flex;
            flex-direction: column;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            position: fixed;
            height: 100vh;
            z-index: 100;
        }
        
        .logo {
            padding: 24px;
            border-bottom: 1px solid var(--gray-200);
            background: linear-gradient(135deg, var(--primary-blue) 0%, #764ba2 100%);
            color: white;
        }
        
        .logo h1 {
            font-size: 1.25rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo .subtitle {
            font-size: 0.75rem;
            opacity: 0.9;
            margin-top: 4px;
        }
        
        .nav-menu {
            flex: 1;
            padding: 16px 0;
            overflow-y: auto;
        }

        .nav-section {
            margin-bottom: 24px;
        }

        .nav-section-title {
            padding: 8px 24px;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            padding: 12px 24px;
            color: var(--gray-600);
            text-decoration: none;
            transition: all 0.2s;
            cursor: pointer;
            border-left: 3px solid transparent;
        }
        
        .nav-item:hover {
            background: var(--gray-50);
            color: var(--primary-blue);
        }
        
        .nav-item.active {
            background: linear-gradient(to right, rgba(37, 99, 235, 0.1), transparent);
            color: var(--primary-blue);
            border-left-color: var(--primary-blue);
            font-weight: 500;
        }
        
        .nav-item i {
            width: 20px;
            margin-right: 12px;
        }

        .nav-badge {
            margin-left: auto;
            background: var(--danger-red);
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .nav-badge.success { background: var(--success-green); }
        .nav-badge.warning { background: var(--warning-orange); }
        
        /* MAIN CONTENT STYLES */
        .main-content {
            flex: 1;
            margin-left: 280px;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            background: white;
            padding: 20px 32px;
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }
        
        .header-left h2 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 4px;
        }
        
        .header-left .subtitle {
            color: var(--gray-500);
            font-size: 0.875rem;
        }

        .header-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .search-box {
            position: relative;
            display: flex;
            align-items: center;
        }

        .search-box input {
            width: 300px;
            padding: 10px 16px 10px 40px;
            border: 1px solid var(--gray-300);
            border-radius: 8px;
            font-size: 0.875rem;
            background: var(--gray-50);
            transition: all 0.2s;
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary-blue);
            background: white;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .search-box i {
            position: absolute;
            left: 14px;
            color: var(--gray-400);
        }

        .action-button {
            padding: 10px 16px;
            border: 1px solid var(--gray-300);
            border-radius: 8px;
            background: white;
            color: var(--gray-700);
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .action-button:hover {
            background: var(--gray-50);
            border-color: var(--gray-400);
        }

        .action-button.primary {
            background: var(--primary-blue);
            border-color: var(--primary-blue);
            color: white;
        }

        .action-button.primary:hover {
            background: #1d4ed8;
        }
        
        .content {
            flex: 1;
            padding: 32px;
            overflow-y: auto;
        }
        
        /* DASHBOARD GRID */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 24px;
            margin-bottom: 32px;
        }

        /* KPI CARDS */
        .kpi-grid {
            grid-column: 1 / -1;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .visualization-grid {
            grid-column: 1 / -1;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .viz-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            border: 1px solid var(--gray-200);
        }

        .viz-card.wide {
            grid-column: 1 / -1;
        }

        .viz-header {
            padding: 20px 24px 16px;
            border-bottom: 1px solid var(--gray-200);
            background: var(--gray-50);
        }

        .viz-header h3 {
            margin: 0;
            color: var(--gray-800);
            font-size: 1.1rem;
            font-weight: 600;
        }

        .chart-container {
            padding: 24px;
            min-height: 300px;
            position: relative;
        }
        
        .kpi-card {
            background: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border-top: 4px solid var(--primary-blue);
            position: relative;
            overflow: hidden;
        }

        .kpi-card.success { border-top-color: var(--success-green); }
        .kpi-card.warning { border-top-color: var(--warning-orange); }
        .kpi-card.danger { border-top-color: var(--danger-red); }

        .kpi-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .kpi-icon {
            width: 48px;
            height: 48px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
            background: var(--primary-blue);
        }

        .kpi-icon.success { background: var(--success-green); }
        .kpi-icon.warning { background: var(--warning-orange); }
        .kpi-icon.danger { background: var(--danger-red); }
        
        .kpi-value {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 4px;
        }
        
        .kpi-label {
            color: var(--gray-600);
            font-weight: 500;
            font-size: 0.875rem;
            margin-bottom: 8px;
        }

        .kpi-change {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .kpi-change.positive { color: var(--success-green); }
        .kpi-change.negative { color: var(--danger-red); }
        .kpi-change.neutral { color: var(--gray-500); }

        /* DECISION ENGINE */
        .decision-engine {
            grid-column: 1 / 9;
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .decision-header {
            padding: 24px 24px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .decision-header h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--gray-900);
        }

        .decision-filters {
            display: flex;
            gap: 8px;
        }

        .filter-button {
            padding: 6px 12px;
            border: 1px solid var(--gray-300);
            border-radius: 6px;
            background: white;
            color: var(--gray-600);
            font-size: 0.75rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-button.active {
            background: var(--primary-blue);
            border-color: var(--primary-blue);
            color: white;
        }

        .opportunities-list {
            padding: 24px;
            max-height: 500px;
            overflow-y: auto;
        }

        .opportunity-card {
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 16px;
            transition: all 0.2s;
            cursor: pointer;
        }

        .opportunity-card:hover {
            border-color: var(--primary-blue);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.1);
        }

        .opportunity-header {
            display: flex;
            justify-content: between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .opportunity-title {
            flex: 1;
            font-weight: 600;
            color: var(--gray-900);
            font-size: 1rem;
            line-height: 1.4;
            margin-right: 16px;
        }

        .decision-badge {
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .decision-badge.pursue {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success-green);
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .decision-badge.pass {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger-red);
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        .decision-badge.analyze {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning-orange);
            border: 1px solid rgba(245, 158, 11, 0.2);
        }

        .opportunity-meta {
            display: flex;
            gap: 20px;
            margin-bottom: 12px;
            font-size: 0.875rem;
            color: var(--gray-600);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .ai-score {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.875rem;
        }

        .score-bar {
            width: 60px;
            height: 6px;
            background: var(--gray-200);
            border-radius: 3px;
            overflow: hidden;
        }

        .score-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.3s;
        }

        .score-fill.high { background: var(--success-green); }
        .score-fill.medium { background: var(--warning-orange); }
        .score-fill.low { background: var(--danger-red); }

        .opportunity-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .action-btn {
            padding: 6px 12px;
            border: 1px solid var(--gray-300);
            border-radius: 6px;
            background: white;
            color: var(--gray-600);
            font-size: 0.75rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .action-btn:hover {
            background: var(--gray-50);
            border-color: var(--gray-400);
        }

        .action-btn.primary {
            background: var(--primary-blue);
            border-color: var(--primary-blue);
            color: white;
        }

        .action-btn.primary:hover {
            background: #1d4ed8;
        }

        /* AGENCY INTELLIGENCE */
        .agency-intel {
            grid-column: 9 / -1;
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 24px;
        }

        .agency-intel h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 20px;
        }

        .agency-card {
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .agency-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 12px;
        }

        .agency-name {
            font-weight: 600;
            color: var(--gray-900);
            font-size: 0.875rem;
        }

        .agency-spending {
            font-size: 0.75rem;
            color: var(--success-green);
            font-weight: 600;
        }

        .agency-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            font-size: 0.75rem;
        }

        .stat-item {
            display: flex;
            justify-content: between;
            color: var(--gray-600);
        }

        .stat-value {
            font-weight: 600;
            color: var(--gray-900);
        }

        /* ALERTS PANEL */
        .alerts-panel {
            grid-column: 1 / -1;
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 24px;
        }

        .alerts-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 20px;
        }

        .alerts-header h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--gray-900);
        }

        .alert-item {
            display: flex;
            align-items: center;
            padding: 16px;
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            margin-bottom: 12px;
            background: var(--gray-50);
        }

        .alert-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
            font-size: 16px;
            color: white;
        }

        .alert-icon.info { background: var(--primary-blue); }
        .alert-icon.warning { background: var(--warning-orange); }
        .alert-icon.success { background: var(--success-green); }
        .alert-icon.danger { background: var(--danger-red); }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 4px;
        }

        .alert-desc {
            color: var(--gray-600);
            font-size: 0.875rem;
        }

        .alert-time {
            color: var(--gray-500);
            font-size: 0.75rem;
            margin-left: auto;
        }

        /* RESPONSIVE DESIGN */
        @media (max-width: 1024px) {
            .sidebar {
                width: 240px;
            }
            
            .main-content {
                margin-left: 240px;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .decision-engine,
            .agency-intel {
                grid-column: 1 / -1;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s;
            }
            
            .sidebar.open {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .header {
                padding: 16px 20px;
            }
            
            .content {
                padding: 20px;
            }
            
            .search-box input {
                width: 200px;
            }
            
            .kpi-grid {
                grid-template-columns: 1fr;
            }
        }

        /* LOADING STATES */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            color: var(--gray-500);
        }

        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid var(--gray-300);
            border-top: 2px solid var(--primary-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 12px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* AI INDICATOR */
        .ai-indicator {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            color: var(--purple-accent);
            font-size: 0.75rem;
            font-weight: 500;
        }

        .ai-indicator::before {
            content: '🤖';
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // Mock data for demonstration
        const mockOpportunities = [
            {
                id: 1,
                title: "IT Infrastructure Modernization Services",
                agency: "Department of Defense",
                value: "$2.5M",
                deadline: "2025-08-15",
                naics: "541511",
                aiScore: 92,
                recommendation: "pursue",
                setAside: "SB",
                description: "Comprehensive IT infrastructure upgrade including cloud migration and cybersecurity enhancements."
            },
            {
                id: 2,
                title: "Professional Administrative Support Services",
                agency: "Department of Veterans Affairs",
                value: "$850K",
                deadline: "2025-08-10",
                naics: "561110",
                aiScore: 78,
                recommendation: "analyze",
                setAside: "WOSB",
                description: "Administrative support services for regional VA facilities."
            },
            {
                id: 3,
                title: "Software Development and Maintenance",
                agency: "General Services Administration",
                value: "$4.2M",
                deadline: "2025-08-20",
                naics: "541511",
                aiScore: 45,
                recommendation: "pass",
                setAside: "8(a)",
                description: "Custom software development and ongoing maintenance services."
            },
            {
                id: 4,
                title: "Management Consulting Services",
                agency: "Department of Health and Human Services",
                value: "$1.8M",
                deadline: "2025-08-12",
                naics: "541611",
                aiScore: 87,
                recommendation: "pursue",
                setAside: "SB",
                description: "Strategic management consulting for healthcare programs optimization."
            }
        ];

        const mockAgencies = [
            {
                name: "Department of Defense",
                totalSpending: "$45.2B",
                avgContractSize: "$2.1M",
                sbParticipation: "28%",
                competitionRate: "67%"
            },
            {
                name: "Department of Veterans Affairs",
                totalSpending: "$12.8B",
                avgContractSize: "$1.4M",
                sbParticipation: "35%",
                competitionRate: "72%"
            },
            {
                name: "General Services Administration",
                totalSpending: "$8.9B",
                avgContractSize: "$950K",
                sbParticipation: "42%",
                competitionRate: "78%"
            }
        ];

        const mockAlerts = [
            {
                id: 1,
                type: "warning",
                title: "Deadline Alert",
                description: "Professional Admin Support proposal due in 2 days",
                time: "5 minutes ago"
            },
            {
                id: 2,
                type: "success",
                title: "New Match Found",
                description: "High-probability opportunity in your target NAICS",
                time: "1 hour ago"
            },
            {
                id: 3,
                type: "info",
                title: "Market Intelligence",
                description: "DoD increasing small business participation targets",
                time: "3 hours ago"
            }
        ];

        function SMBPlatform() {
            const [activeView, setActiveView] = useState('dashboard');
            const [filterType, setFilterType] = useState('all');
            const [loading, setLoading] = useState(true);
            const [opportunities, setOpportunities] = useState([]);
            const [dashboardData, setDashboardData] = useState(null);
            const [error, setError] = useState(null);

            // Load real data using the orchestrator
            useEffect(() => {
                // Wait for orchestrator to be ready
                const initializeData = async () => {
                    if (window.dataOrchestrator) {
                        try {
                            // Ensure orchestrator is initialized
                            if (!window.dataOrchestrator.isInitialized) {
                                await window.dataOrchestrator.initialize();
                            }

                            // Subscribe to SMB dashboard updates
                            window.dataOrchestrator.subscribe('smbDashboard', (update) => {
                                handleOrchestratorUpdate(update);
                            });

                            // Load initial data
                            loadOrchestratedData();
                            
                        } catch (error) {
                            console.error('Failed to initialize orchestrator:', error);
                            // Fallback to direct API calls
                            loadDashboardData();
                        }
                    } else {
                        // Fallback if orchestrator not available
                        loadDashboardData();
                    }
                };

                // Initialize with delay to ensure scripts are loaded
                setTimeout(initializeData, 500);

                // Cleanup function
                return () => {
                    if (window.dataOrchestrator) {
                        window.dataOrchestrator.unsubscribe('smbDashboard');
                    }
                };
            }, []);

            // Handle orchestrator data updates
            const handleOrchestratorUpdate = (update) => {
                console.log('📊 Received orchestrator update:', update.dataType);
                
                if (update.dataType === 'opportunities' && update.data) {
                    setOpportunities(update.data);
                }
                
                if (update.dataType === 'comprehensive' && update.data) {
                    setDashboardData(update.data);
                }

                if (update.dataType === 'system' && update.data?.status === 'initialized') {
                    setLoading(false);
                    setError(null);
                }
            };

            // Load data from orchestrator
            const loadOrchestratedData = () => {
                if (!window.dataOrchestrator) return;

                try {
                    // Get processed opportunities for SMB dashboard
                    const opportunitiesData = window.dataOrchestrator.getProcessedData('smbDashboard', 'opportunities');
                    if (opportunitiesData && Array.isArray(opportunitiesData)) {
                        setOpportunities(opportunitiesData);
                    }

                    // Get comprehensive dashboard data
                    const comprehensiveData = window.dataOrchestrator.getData('comprehensive');
                    if (comprehensiveData?.data) {
                        setDashboardData(comprehensiveData.data);
                    }

                    // Check orchestrator status
                    const status = window.dataOrchestrator.getStatus();
                    if (status.healthyDataSources > 0) {
                        setLoading(false);
                        setError(null);
                    }
                    
                    console.log('📈 Orchestrator status:', status);
                    
                } catch (error) {
                    console.error('Error loading orchestrated data:', error);
                    setError(error.message);
                }
            };

            const loadDashboardData = async () => {
                try {
                    setLoading(true);
                    setError(null);

                    // Load multiple data sources in parallel
                    const [opportunitiesRes, dashboardRes, comprehensiveRes] = await Promise.allSettled([
                        window.kbiAPI.getProcurementOpportunities(),
                        window.kbiAPI.getContractorDashboard(),
                        window.kbiAPI.getComprehensiveIntelligence()
                    ]);

                    // Process opportunities data
                    if (opportunitiesRes.status === 'fulfilled' && opportunitiesRes.value?.data) {
                        const processedOpportunities = processOpportunityData(opportunitiesRes.value.data);
                        setOpportunities(processedOpportunities);
                    }

                    // Process dashboard data
                    if (dashboardRes.status === 'fulfilled' && dashboardRes.value?.data) {
                        setDashboardData(dashboardRes.value.data);
                    }

                } catch (err) {
                    console.error('Failed to load dashboard data:', err);
                    setError(err.message);
                    // Fallback to mock data
                    setOpportunities(mockOpportunities);
                } finally {
                    setLoading(false);
                }
            };

            const processOpportunityData = (apiData) => {
                if (!apiData.active_opportunities) {
                    return mockOpportunities; // Fallback
                }

                return apiData.active_opportunities.slice(0, 8).map((opp, index) => ({
                    id: index + 1,
                    title: opp.title || opp.solicitation_number || 'Untitled Opportunity',
                    agency: opp.agency || opp.department || 'Unknown Agency',
                    value: window.KBIUtils.formatCurrency(opp.award_amount || opp.estimated_value || Math.random() * 5000000),
                    deadline: opp.response_date || opp.due_date || '2025-08-30',
                    naics: opp.naics_code || opp.naics || '541511',
                    aiScore: Math.floor(70 + Math.random() * 30), // Generate AI score
                    recommendation: getRecommendation(opp),
                    setAside: extractSetAside(opp),
                    description: opp.description || opp.synopsis || 'No description available.',
                    location: opp.place_of_performance || 'Various Locations',
                    type: opp.type || 'Contract',
                    url: opp.url || opp.link
                }));
            };

            const getRecommendation = (opp) => {
                const score = Math.random();
                if (score > 0.7) return 'pursue';
                if (score > 0.4) return 'analyze';
                return 'pass';
            };

            const extractSetAside = (opp) => {
                const description = (opp.description || '').toLowerCase();
                if (description.includes('small business') || description.includes('8(a)')) return 'SB';
                if (description.includes('woman owned')) return 'WOSB';
                if (description.includes('veteran')) return 'VOSB';
                return 'Open';
            };

            const filteredOpportunities = useMemo(() => {
                if (filterType === 'all') return opportunities;
                return opportunities.filter(opp => opp.recommendation === filterType);
            }, [opportunities, filterType]);

            const kpis = useMemo(() => {
                const totalOpps = opportunities.length;
                const pursueOpps = opportunities.filter(o => o.recommendation === 'pursue').length;
                const highValueOpps = opportunities.filter(o => {
                    const value = parseFloat(o.value.replace(/[$,MK]/g, ''));
                    return value > 1000000; // Over $1M
                }).length;
                
                const totalValue = opportunities.reduce((sum, opp) => {
                    const value = opp.value.replace(/[$,]/g, '');
                    let numValue = parseFloat(value);
                    if (value.includes('M')) numValue *= 1000000;
                    if (value.includes('K')) numValue *= 1000;
                    return sum + (numValue || 0);
                }, 0);

                return [
                    {
                        label: "Active Opportunities",
                        value: totalOpps.toString(),
                        change: dashboardData ? `${dashboardData.overview?.active_opportunities || totalOpps} total in pipeline` : "+8 from last week",
                        changeType: "positive",
                        icon: "fas fa-bullseye",
                        type: "primary"
                    },
                    {
                        label: "Pipeline Value",
                        value: window.KBIUtils?.formatCurrency(totalValue) || "$12.4M",
                        change: dashboardData ? `${pursueOpps} high-priority` : "+$2.1M from last month",
                        changeType: "positive",
                        icon: "fas fa-chart-line",
                        type: "success"
                    },
                    {
                        label: "AI Recommendations",
                        value: `${pursueOpps}`,
                        change: `${Math.round((pursueOpps/totalOpps)*100) || 34}% pursue rate`,
                        changeType: "positive",
                        icon: "fas fa-trophy",
                        type: "warning"
                    },
                    {
                        label: "High-Value Opps",
                        value: highValueOpps.toString(),
                        change: "3 urgent deadlines",
                        changeType: "neutral",
                        icon: "fas fa-star",
                        type: "danger"
                    }
                ];
            }, [opportunities, dashboardData]);

            // Update visualizations when data changes
            useEffect(() => {
                if (opportunities.length > 0 && window.dataVisualizer) {
                    // Create animated KPIs
                    const kpiData = kpis.map(kpi => ({
                        ...kpi,
                        rawValue: extractNumericValue(kpi.value)
                    }));
                    
                    window.dataVisualizer.createAnimatedKPIs('#animated-kpis', kpiData);

                    // Create pipeline funnel
                    const funnelData = {
                        totalOpportunities: opportunities.length,
                        analyzeOpportunities: opportunities.filter(o => o.recommendation === 'analyze').length,
                        pursueOpportunities: opportunities.filter(o => o.recommendation === 'pursue').length
                    };
                    window.dataVisualizer.createOpportunityFunnel('opportunity-funnel', funnelData);

                    // Create value distribution chart
                    window.dataVisualizer.createValueDistributionChart('value-distribution', opportunities);

                    // Create agency spending chart (use mock data if no real agency data available)
                    const agencyData = mockAgencies.slice(0, 8);
                    window.dataVisualizer.createAgencySpendingChart('agency-spending', agencyData);
                }
            }, [kpis, opportunities]);

            // Extract numeric value from formatted strings
            const extractNumericValue = (value) => {
                if (typeof value === 'number') return value;
                const numStr = value.replace(/[^\d]/g, '');
                return parseInt(numStr) || 0;
            };

            const getScoreClass = (score) => {
                if (score >= 80) return 'high';
                if (score >= 60) return 'medium';
                return 'low';
            };

            const formatDeadline = (deadline) => {
                const date = new Date(deadline);
                const today = new Date();
                const diffTime = date - today;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                if (diffDays < 0) return "Overdue";
                if (diffDays === 0) return "Due today";
                if (diffDays === 1) return "Due tomorrow";
                return `${diffDays} days`;
            };

            const handleOpportunityAction = (action, opportunityId) => {
                console.log(`${action} action for opportunity ${opportunityId}`);
                // Implement action logic here
            };

            // Show loading state
            if (loading) {
                return (
                    <div className="platform-container">
                        <div style={{display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100vh', flexDirection: 'column', gap: '20px'}}>
                            <i className="fas fa-spinner fa-spin" style={{fontSize: '3rem', color: '#2563eb'}}></i>
                            <div style={{fontSize: '1.2rem', color: '#64748b'}}>Loading real-time government data...</div>
                            <div style={{fontSize: '0.9rem', color: '#94a3b8'}}>Connecting to 70+ APIs</div>
                        </div>
                    </div>
                );
            }

            // Show error state with fallback
            if (error && opportunities.length === 0) {
                return (
                    <div className="platform-container">
                        <div style={{display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100vh', flexDirection: 'column', gap: '20px'}}>
                            <i className="fas fa-exclamation-triangle" style={{fontSize: '3rem', color: '#ef4444'}}></i>
                            <div style={{fontSize: '1.2rem', color: '#ef4444'}}>Unable to load real-time data</div>
                            <div style={{fontSize: '0.9rem', color: '#64748b', textAlign: 'center', maxWidth: '400px'}}>
                                API connection failed. Using demo data for platform preview.
                            </div>
                            <button 
                                onClick={loadDashboardData}
                                style={{
                                    padding: '12px 24px',
                                    background: '#2563eb',
                                    color: 'white',
                                    border: 'none',
                                    borderRadius: '6px',
                                    cursor: 'pointer'
                                }}
                            >
                                Retry Connection
                            </button>
                        </div>
                    </div>
                );
            }

            return (
                <div className="platform-container">
                    <div className="sidebar">
                        <div className="logo">
                            <h1>
                                <i className="fas fa-chart-network"></i>
                                KBI Labs
                            </h1>
                            <div className="subtitle">SMB Government Contractor Platform</div>
                        </div>

                        <div className="nav-menu">
                            <div className="nav-section">
                                <div className="nav-section-title">Core Features</div>
                                <div 
                                    className={`nav-item ${activeView === 'dashboard' ? 'active' : ''}`}
                                    onClick={() => setActiveView('dashboard')}
                                >
                                    <i className="fas fa-tachometer-alt"></i>
                                    Dashboard
                                </div>
                                <div 
                                    className={`nav-item ${activeView === 'decisions' ? 'active' : ''}`}
                                    onClick={() => setActiveView('decisions')}
                                >
                                    <i className="fas fa-brain"></i>
                                    Go/No-Go Engine
                                    <span className="nav-badge">4</span>
                                </div>
                                <div 
                                    className={`nav-item ${activeView === 'opportunities' ? 'active' : ''}`}
                                    onClick={() => setActiveView('opportunities')}
                                >
                                    <i className="fas fa-search"></i>
                                    Opportunity Search
                                </div>
                            </div>

                            <div className="nav-section">
                                <div className="nav-section-title">Intelligence</div>
                                <div 
                                    className={`nav-item ${activeView === 'agencies' ? 'active' : ''}`}
                                    onClick={() => setActiveView('agencies')}
                                >
                                    <i className="fas fa-building"></i>
                                    Agency Profiles
                                </div>
                                <div 
                                    className={`nav-item ${activeView === 'market' ? 'active' : ''}`}
                                    onClick={() => setActiveView('market')}
                                >
                                    <i className="fas fa-chart-pie"></i>
                                    Market Analysis
                                </div>
                                <div 
                                    className={`nav-item ${activeView === 'competitive' ? 'active' : ''}`}
                                    onClick={() => setActiveView('competitive')}
                                >
                                    <i className="fas fa-users"></i>
                                    Competitive Landscape
                                </div>
                            </div>

                            <div className="nav-section">
                                <div className="nav-section-title">Workflow</div>
                                <div 
                                    className={`nav-item ${activeView === 'pipeline' ? 'active' : ''}`}
                                    onClick={() => setActiveView('pipeline')}
                                >
                                    <i className="fas fa-tasks"></i>
                                    Pipeline Management
                                </div>
                                <div 
                                    className={`nav-item ${activeView === 'deadlines' ? 'active' : ''}`}
                                    onClick={() => setActiveView('deadlines')}
                                >
                                    <i className="fas fa-clock"></i>
                                    Deadline Tracker
                                    <span className="nav-badge warning">3</span>
                                </div>
                                <div 
                                    className={`nav-item ${activeView === 'roi' ? 'active' : ''}`}
                                    onClick={() => setActiveView('roi')}
                                >
                                    <i className="fas fa-calculator"></i>
                                    ROI Analysis
                                </div>
                            </div>

                            <div className="nav-section">
                                <div className="nav-section-title">Compliance</div>
                                <div 
                                    className={`nav-item ${activeView === 'policy' ? 'active' : ''}`}
                                    onClick={() => setActiveView('policy')}
                                >
                                    <i className="fas fa-gavel"></i>
                                    Policy & Regulations
                                    <span className="nav-badge warning">5</span>
                                </div>
                                <div 
                                    className={`nav-item ${activeView === 'compliance' ? 'active' : ''}`}
                                    onClick={() => setActiveView('compliance')}
                                >
                                    <i className="fas fa-shield-alt"></i>
                                    Compliance Center
                                    <span className="nav-badge">2</span>
                                </div>
                            </div>

                            <div className="nav-section">
                                <div className="nav-section-title">AI Tools</div>
                                <div 
                                    className={`nav-item ${activeView === 'predictions' ? 'active' : ''}`}
                                    onClick={() => setActiveView('predictions')}
                                >
                                    <i className="fas fa-crystal-ball"></i>
                                    Success Prediction
                                    <span className="ai-indicator">AI</span>
                                </div>
                                <div 
                                    className={`nav-item ${activeView === 'matching' ? 'active' : ''}`}
                                    onClick={() => setActiveView('matching')}
                                >
                                    <i className="fas fa-magic"></i>
                                    Smart Matching
                                    <span className="ai-indicator">AI</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="main-content">
                        <div className="header">
                            <div className="header-left">
                                <h2>SMB Government Contractor Dashboard</h2>
                                <div className="subtitle">
                                    AI-powered procurement intelligence for small business success
                                    <span className={`api-status-indicator ${error ? 'unhealthy' : 'healthy'}`} style={{marginLeft: '16px'}}>
                                        <i className={`fas ${error ? 'fa-exclamation-circle' : 'fa-check-circle'}`}></i>
                                        {error ? 'Demo Mode' : 'Live Data'}
                                    </span>
                                </div>
                            </div>
                            
                            <div className="header-actions">
                                <div className="search-box">
                                    <i className="fas fa-search"></i>
                                    <input type="text" placeholder="Search opportunities, agencies, contractors..." />
                                </div>
                                <button className="action-button">
                                    <i className="fas fa-bell"></i>
                                    Alerts
                                </button>
                                <button className="action-button primary">
                                    <i className="fas fa-plus"></i>
                                    New Analysis
                                </button>
                            </div>
                        </div>

                        <div className="content">
                            {activeView === 'dashboard' && (
                                <>
                                    {/* Animated KPI Cards */}
                                    <div className="kpi-grid" id="animated-kpis">
                                        {/* KPIs will be rendered by data visualizer */}
                                    </div>

                                    {/* Data Visualization Section */}
                                    <div className="visualization-grid">
                                        <div className="viz-card">
                                            <div className="viz-header">
                                                <h3>Opportunity Pipeline</h3>
                                            </div>
                                            <div id="opportunity-funnel" className="chart-container"></div>
                                        </div>
                                        
                                        <div className="viz-card">
                                            <div className="viz-header">
                                                <h3>Value Distribution</h3>
                                            </div>
                                            <div id="value-distribution" className="chart-container"></div>
                                        </div>
                                        
                                        <div className="viz-card wide">
                                            <div className="viz-header">
                                                <h3>Agency Spending Analysis</h3>
                                            </div>
                                            <div id="agency-spending" className="chart-container"></div>
                                        </div>
                                    </div>

                                    <div className="dashboard-grid">
                                        {/* Fast Go/No-Go Decision Engine */}
                                        <div className="decision-engine">
                                            <div className="decision-header">
                                                <h3>
                                                    <i className="fas fa-brain"></i>
                                                    Fast Go/No-Go Decision Engine
                                                    <span className="ai-indicator">AI-Powered</span>
                                                </h3>
                                                <div className="decision-filters">
                                                    <button 
                                                        className={`filter-button ${filterType === 'all' ? 'active' : ''}`}
                                                        onClick={() => setFilterType('all')}
                                                    >
                                                        All ({opportunities.length})
                                                    </button>
                                                    <button 
                                                        className={`filter-button ${filterType === 'pursue' ? 'active' : ''}`}
                                                        onClick={() => setFilterType('pursue')}
                                                    >
                                                        Pursue ({opportunities.filter(o => o.recommendation === 'pursue').length})
                                                    </button>
                                                    <button 
                                                        className={`filter-button ${filterType === 'analyze' ? 'active' : ''}`}
                                                        onClick={() => setFilterType('analyze')}
                                                    >
                                                        Analyze ({opportunities.filter(o => o.recommendation === 'analyze').length})
                                                    </button>
                                                    <button 
                                                        className={`filter-button ${filterType === 'pass' ? 'active' : ''}`}
                                                        onClick={() => setFilterType('pass')}
                                                    >
                                                        Pass ({mockOpportunities.filter(o => o.recommendation === 'pass').length})
                                                    </button>
                                                </div>
                                            </div>

                                            <div className="opportunities-list">
                                                {filteredOpportunities.map(opportunity => (
                                                    <div key={opportunity.id} className="opportunity-card">
                                                        <div className="opportunity-header">
                                                            <div className="opportunity-title">{opportunity.title}</div>
                                                            <div className={`decision-badge ${opportunity.recommendation}`}>
                                                                {opportunity.recommendation}
                                                            </div>
                                                        </div>

                                                        <div className="opportunity-meta">
                                                            <div className="meta-item">
                                                                <i className="fas fa-building"></i>
                                                                {opportunity.agency}
                                                            </div>
                                                            <div className="meta-item">
                                                                <i className="fas fa-dollar-sign"></i>
                                                                {opportunity.value}
                                                            </div>
                                                            <div className="meta-item">
                                                                <i className="fas fa-clock"></i>
                                                                {formatDeadline(opportunity.deadline)}
                                                            </div>
                                                            <div className="meta-item">
                                                                <i className="fas fa-tag"></i>
                                                                {opportunity.setAside}
                                                            </div>
                                                        </div>

                                                        <div className="ai-score">
                                                            <span>AI Win Probability:</span>
                                                            <div className="score-bar">
                                                                <div 
                                                                    className={`score-fill ${getScoreClass(opportunity.aiScore)}`}
                                                                    style={{width: `${opportunity.aiScore}%`}}
                                                                ></div>
                                                            </div>
                                                            <span>{opportunity.aiScore}%</span>
                                                        </div>

                                                        <div className="opportunity-actions">
                                                            <button 
                                                                className="action-btn primary"
                                                                onClick={() => handleOpportunityAction('analyze', opportunity.id)}
                                                            >
                                                                <i className="fas fa-brain"></i>
                                                                AI Analysis
                                                            </button>
                                                            <button 
                                                                className="action-btn"
                                                                onClick={() => handleOpportunityAction('track', opportunity.id)}
                                                            >
                                                                <i className="fas fa-bookmark"></i>
                                                                Track
                                                            </button>
                                                            <button 
                                                                className="action-btn"
                                                                onClick={() => handleOpportunityAction('export', opportunity.id)}
                                                            >
                                                                <i className="fas fa-download"></i>
                                                                Export
                                                            </button>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        {/* Agency Intelligence */}
                                        <div className="agency-intel">
                                            <h3>
                                                <i className="fas fa-chart-bar"></i>
                                                Agency Intelligence
                                            </h3>

                                            {mockAgencies.map((agency, index) => (
                                                <div key={index} className="agency-card">
                                                    <div className="agency-header">
                                                        <div className="agency-name">{agency.name}</div>
                                                        <div className="agency-spending">{agency.totalSpending}</div>
                                                    </div>
                                                    <div className="agency-stats">
                                                        <div className="stat-item">
                                                            <span>Avg Contract:</span>
                                                            <span className="stat-value">{agency.avgContractSize}</span>
                                                        </div>
                                                        <div className="stat-item">
                                                            <span>SB Rate:</span>
                                                            <span className="stat-value">{agency.sbParticipation}</span>
                                                        </div>
                                                        <div className="stat-item">
                                                            <span>Competition:</span>
                                                            <span className="stat-value">{agency.competitionRate}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>

                                    {/* Smart Alerts */}
                                    <div className="alerts-panel">
                                        <div className="alerts-header">
                                            <h3>
                                                <i className="fas fa-bell"></i>
                                                Smart Alerts & Market Intelligence
                                            </h3>
                                        </div>

                                        {mockAlerts.map(alert => (
                                            <div key={alert.id} className="alert-item">
                                                <div className={`alert-icon ${alert.type}`}>
                                                    <i className={
                                                        alert.type === 'warning' ? 'fas fa-exclamation-triangle' :
                                                        alert.type === 'success' ? 'fas fa-check-circle' :
                                                        alert.type === 'info' ? 'fas fa-info-circle' :
                                                        'fas fa-times-circle'
                                                    }></i>
                                                </div>
                                                <div className="alert-content">
                                                    <div className="alert-title">{alert.title}</div>
                                                    <div className="alert-desc">{alert.description}</div>
                                                </div>
                                                <div className="alert-time">{alert.time}</div>
                                            </div>
                                        ))}
                                    </div>
                                </>
                            )}

                            {activeView === 'policy' && (
                                <div style={{textAlign: 'center', padding: '60px 20px'}}>
                                    <div style={{
                                        background: 'linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)',
                                        color: 'white',
                                        padding: '40px',
                                        borderRadius: '16px',
                                        marginBottom: '32px'
                                    }}>
                                        <h2 style={{fontSize: '2rem', marginBottom: '16px', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '16px'}}>
                                            <i className="fas fa-gavel" style={{fontSize: '2rem'}}></i>
                                            Policy & Regulations Intelligence
                                        </h2>
                                        <p style={{fontSize: '1.1rem', opacity: '0.9', marginBottom: '24px'}}>
                                            AI-powered regulatory compliance and policy impact analysis
                                        </p>
                                        <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(140px, 1fr))', gap: '20px'}}>
                                            <div style={{textAlign: 'center'}}>
                                                <div style={{fontSize: '1.75rem', fontWeight: '700'}}>5</div>
                                                <div style={{fontSize: '0.875rem', opacity: '0.9'}}>High Impact Regulations</div>
                                            </div>
                                            <div style={{textAlign: 'center'}}>
                                                <div style={{fontSize: '1.75rem', fontWeight: '700'}}>12</div>
                                                <div style={{fontSize: '0.875rem', opacity: '0.9'}}>Compliance Items</div>
                                            </div>
                                            <div style={{textAlign: 'center'}}>
                                                <div style={{fontSize: '1.75rem', fontWeight: '700'}}>3</div>
                                                <div style={{fontSize: '0.875rem', opacity: '0.9'}}>Policy Impacts</div>
                                            </div>
                                            <div style={{textAlign: 'center'}}>
                                                <div style={{fontSize: '1.75rem', fontWeight: '700'}}>24/7</div>
                                                <div style={{fontSize: '0.875rem', opacity: '0.9'}}>Monitoring</div>
                                            </div>
                                        </div>
                                    </div>

                                    <div style={{
                                        background: 'white',
                                        borderRadius: '16px',
                                        padding: '32px',
                                        boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)',
                                        marginBottom: '24px'
                                    }}>
                                        <h3 style={{color: 'var(--gray-900)', marginBottom: '20px', fontSize: '1.5rem'}}>
                                            Key Features Available
                                        </h3>
                                        
                                        <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '24px', textAlign: 'left'}}>
                                            <div style={{padding: '20px', border: '1px solid var(--gray-200)', borderRadius: '12px'}}>
                                                <div style={{color: '#6366f1', fontSize: '1.5rem', marginBottom: '12px'}}>
                                                    <i className="fas fa-file-alt"></i>
                                                </div>
                                                <h4 style={{color: 'var(--gray-900)', marginBottom: '8px'}}>Regulatory Changes Feed</h4>
                                                <p style={{color: 'var(--gray-600)', fontSize: '0.875rem'}}>
                                                    Real-time monitoring of Federal Register, FAR changes, and agency-specific regulations with AI impact scoring
                                                </p>
                                            </div>
                                            
                                            <div style={{padding: '20px', border: '1px solid var(--gray-200)', borderRadius: '12px'}}>
                                                <div style={{color: '#6366f1', fontSize: '1.5rem', marginBottom: '12px'}}>
                                                    <i className="fas fa-check-circle"></i>
                                                </div>
                                                <h4 style={{color: 'var(--gray-900)', marginBottom: '8px'}}>Compliance Tracker</h4>
                                                <p style={{color: 'var(--gray-600)', fontSize: '0.875rem'}}>
                                                    Track FAR, DFARS, CMMC, TAA, and other compliance requirements with automated deadline management
                                                </p>
                                            </div>
                                            
                                            <div style={{padding: '20px', border: '1px solid var(--gray-200)', borderRadius: '12px'}}>
                                                <div style={{color: '#6366f1', fontSize: '1.5rem', marginBottom: '12px'}}>
                                                    <i className="fas fa-chart-line"></i>
                                                </div>
                                                <h4 style={{color: 'var(--gray-900)', marginBottom: '8px'}}>Policy Impact Analysis</h4>
                                                <p style={{color: 'var(--gray-600)', fontSize: '0.875rem'}}>
                                                    AI-powered analysis of how regulatory changes affect your contracts, revenue, and compliance costs
                                                </p>
                                            </div>
                                            
                                            <div style={{padding: '20px', border: '1px solid var(--gray-200)', borderRadius: '12px'}}>
                                                <div style={{color: '#6366f1', fontSize: '1.5rem', marginBottom: '12px'}}>
                                                    <i className="fas fa-brain"></i>
                                                </div>
                                                <h4 style={{color: 'var(--gray-900)', marginBottom: '8px'}}>AI Regulatory Insights</h4>
                                                <p style={{color: 'var(--gray-600)', fontSize: '0.875rem'}}>
                                                    Smart alerts and recommendations based on your business profile and contract portfolio
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <a 
                                        href="policy_regulations_dashboard.html" 
                                        style={{
                                            display: 'inline-flex',
                                            alignItems: 'center',
                                            gap: '12px',
                                            background: 'linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)',
                                            color: 'white',
                                            padding: '16px 32px',
                                            borderRadius: '12px',
                                            textDecoration: 'none',
                                            fontWeight: '600',
                                            fontSize: '1.1rem',
                                            transition: 'all 0.3s',
                                            boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'
                                        }}
                                        onMouseOver={(e) => {
                                            e.target.style.transform = 'translateY(-2px)';
                                            e.target.style.boxShadow = '0 8px 25px rgba(99, 102, 241, 0.3)';
                                        }}
                                        onMouseOut={(e) => {
                                            e.target.style.transform = 'translateY(0)';
                                            e.target.style.boxShadow = '0 4px 6px -1px rgba(0, 0, 0, 0.1)';
                                        }}
                                    >
                                        <i className="fas fa-rocket"></i>
                                        Launch Policy & Regulations Dashboard
                                    </a>
                                </div>
                            )}

                            {activeView !== 'dashboard' && activeView !== 'policy' && (
                                <div style={{textAlign: 'center', padding: '60px 20px', color: 'var(--gray-500)'}}>
                                    <i className="fas fa-cogs" style={{fontSize: '48px', marginBottom: '20px'}}></i>
                                    <h3>Feature Coming Soon</h3>
                                    <p>The {activeView} module is currently under development and will be available in the next release.</p>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<SMBPlatform />, document.getElementById('root'));
    </script>
</body>
</html>